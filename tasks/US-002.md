## US-002 Регистрация контрактов

**Описание**: Я, как пользователь блокчейн системы, могу используя docker образ зарегистрировать контракты, необходимые для успешного функционирвоания моста.

### AC-002-01 Регистрация контрактов

1. В директории `/some/path` находится `.env` файл со следующим содержимым:

    ```
    PRIVKEY=7e2426debde689e756c6290d855a1068aef06db7a2b076be5fe6f2eefc452ca1
    LEFT_RPCURL=https://sokol.poa.network 
    RIGHT_RPCURL=https://data-seed-prebsc-1-s1.binance.org:8545/
    LEFT_GASPRICE=5000000000
    RIGHT_GASPRICE=5000000000
    VALIDATORS=0x226Dbd003697a5Ab7A501ED6fc02Bda096C66E70 0x130930e3E3D30bF8F975a729e948CdCc212ECFBB 0x61365C58E44A6Fc166897f4A30641dba82E606c0
    THRESHOLD=2
    ```

2. После запуска команды:
    ```
    $ docker run -ti --rm --env-file /some/path/.env n2n-oracle /deployment/run.sh
    ```
   в терминале выводится 
    ```
    #1 [LEFT] Validators Set deployed at 0x...
    #2 [LEFT] Bridge deployed at 0x...
    #3 [RIGHT] Validators Set deployed at 0x...
    #4 [RIGHT] Bridge deployed at 0x...
    #5 [LEFT] Bridge deployed at block ...
    #6 [RIGHT] Bridge deployed at block ...
    ```
   Контрактов с указанными адресами не существовало в блокчейн базе данных до исполнения команды.

3. Вызов метода `getValidators` у контракта с адресом из строчки с меткой #1 из вывода команды на шаге 2 возвращает массив состоящий из трех элементов: `["0x130930e3E3D30bF8F975a729e948CdCc212ECFBB", "0x226Dbd003697a5Ab7A501ED6fc02Bda096C66E70", "0x61365C58E44A6Fc166897f4A30641dba82E606c0"]`. Порядок элементов в массиве значения не имеет.

4. Вызов метода `getValidators` у контракта с адресом из строчки с меткой #3 из вывода команды на шаге 2 возвращает массив состоящий из трех элементов: `["0x130930e3E3D30bF8F975a729e948CdCc212ECFBB", "0x226Dbd003697a5Ab7A501ED6fc02Bda096C66E70", "0x61365C58E44A6Fc166897f4A30641dba82E606c0"]`. Порядок элементов в массиве значения не имеет.

5. Аккаунт, которому соответствует приватный ключ `0x7e2426debde689e756c6290d855a1068aef06db7a2b076be5fe6f2eefc452ca1`, отправляет транзакцию, вызывающую метод `addLiquidity` у контракта с адресом из строчки с меткой #4 из вывода команды на шаге 2. Данная транзакция также пересылает 100 нативных токенов. Транзакция исполняется успешно.

6. Аккаунт, которому соответствует приватный ключ `0x7e2426debde689e756c6290d855a1068aef06db7a2b076be5fe6f2eefc452ca1`, отправляет транзакцию, вызывающую метод `updateLiquidityLimit` у контракта с адресом из строчки с меткой #2 из вывода команды на шаге 2 c параметром `(100000000000000000000)`. Транзакция исполняется успешно.

7. Аккаунт, которому соответствует приватный ключ `0x7e2426debde689e756c6290d855a1068aef06db7a2b076be5fe6f2eefc452ca1`, отправляет транзакцию, вызывающую метод `changeValidatorSet` у контракта с адресом из строчки с меткой #2 из вывода команды на шаге 2 c параметром `("0x79dD14623c4D33413c0c28fDAbC2285Fdb1e572e")`. Транзакция исполняется успешно.

8. Аккаунт, которому соответствует приватный ключ `0x7e2426debde689e756c6290d855a1068aef06db7a2b076be5fe6f2eefc452ca1`, отправляет транзакцию, вызывающую метод `changeValidatorSet` у контракта с адресом из строчки с меткой #4 из вывода команды на шаге 2 c параметром `("0x79dD14623c4D33413c0c28fDAbC2285Fdb1e572e")`. Транзакция исполняется успешно.
